# ZZ(Zero Trust, Zero Governance)

一个基于ipv6的手机端(Android)与Web技术的点对点聊天软件

## 基本理念

由于基于集中式服务器的软件始终会面临来自个人，团体，组织，政府等多方面的压力。
会对聊天的内容进行审查，从而封杀某个人的帐号或者资料，导致社会面的记录失真。
出于最真实的记录和反映人性与人类社会的面貌的角度开发本软件。
即：
1. 所有人类的信息都可以通过本软件自由的表达与发布，不限制任何人。无论这个人出于人性的恶还是善。
2. 没有帐号的概念，软件即帐号，任何人在这个软件上的权力一致。
3. 软件只提供人性与人类社会最真实的一面的记录，不做好与坏的价值的判断。
4. 软件本身不会有任何审查，不参与政府权力机关，也不是法律审判机构。 
5. 不应该信任任何本软件聊天的对像，要保持高度谨慎，任何产生的问题的责任自负

### 法律声明

1. 使用本软件时请遵从当地的法律，以免带来不必要的法律问题
2. 使用本软件产生的任何后果，开发者不负担任何民事，刑事，主权等所有责任

## 基本使用条件

1. 需要有安卓（Android）手机，版本5.0+，并且支持第三方软件安装。
2. 目前尚未支持iOS手机
3. 需要能访问对方的IP
4. 局域网时应该能在同一网段
5. 远程时需要有公网IP，通常是手机的IPV6地址

## 连接性是本软件的核心

由于当前网络环境的复杂性，目前的公网IPV6在多数情况下仍是无法被访问到的。
所以目前主要支持局域网段内的点对点聊天

## 基本功能目标

1. 建立不依赖于特定公司的点对点用户系统
2. 能轻松通过二维码，字符串，数字等分享的方式轻松与对方建立点对点的（加密/安全的）聊天
3. 基本的好友，群组，文件传输功能
4. 其它必要的即时通讯软件功能，如文字，语音，视频，实时通话，实时视频等。
5. 作为私密聊天需要的备用软件

## 安全说明

本软件只实现点对点通讯的隧道安全性，即对话的内容的私密性。
本软件无法实现IP地址的安全与其它相关的安全。
使用时必须时刻理解以上的安全内容。

## 功能分区

软件基本功能分为四个区域

1. 消息
保存非实时聊天记录
2. 通讯录
保存聊天对像的手机IP信息
3. 应用
保存基于PWA的网页应用信息
4. 我的
个人信息与相关配置

### 存储

本软件所有信息都是基于本地手机存储，当你的手机清除后，所有信息丢失。
即消息记录，通讯录（手机ip信息)，应用，个人相关信息等全部信息会消失。
本软件不适合需要长期保存的信息。

## 我的内容

1. 配置个人概况/资料
   可以配置个人头像，昵称，个性签名等信息
2. 当前手机的内网与外网IP信息
以前能否与外界
3. 相关的软件配置信息

## 软件配置

1. 聊天内容保存期限
所有聊天内容默认都是保存的，为了更加安全，你可以选择配置聊天保存的时间
2. 配置更新非对称加密公钥
为了保存私钥的相对安全性，定期更新公钥有利于聊天的安全性，
3. 服务器端口配置
默认端口是[2^10 + 1, 2^16 - 1]的范围的随机数值，也可以自己设置端口
4. 服务器是否支持无公网IP聊天
默认支持无公网IP接入
5. 配置接收的消息类型
默认支持文字，图片与语音
6. 配置是否支持实时通讯
实时语音通讯、实时视频通讯

## API 说明

### API协议的格式

API 非即时交互全部采用JSON格式传递，全部基于HTTP协议。

>对于语音通话或者视频通话采用其它实时交互协议


### API 业务逻辑

API 分两大块：

1. 建立连接与更新连接信息
2. 获取消息
3. 更新用户个人信息

#### 建立连接与更新连接信息

##### 建立连接

API连接建立过程：
1. 服务器发布访问地址与端口
2. 客户端发起连接请求，获取服务器公钥
3. 通过服务器公钥加密发送自己的公钥，ip地址与端口，以及服务器的会话ID
4. 服务器接收并保存客户端公钥，IP地址和端口,和会话ID
5. 服务器生成会话ID, 通过客户端的公钥加密生成新的加密字符串，并发送给客户端。
6. 连接建立完成

> 会话更新时间超过7天，将自动删除。
> 手机在线时，需要定期更新会话

> 未来会考虑再增加对称加密算法加密以防止量子计算的攻击


##### 更新连接

由于服务器的IP变化是一个常态化的事情，通过更新服务器IP可以更好的保存以前的会话记录，防止过快的失联。

API服务器建立过程：
1. 变更端发起更新请求，通过服务器的公钥加密会话ID，IP地址与端口
2. 服务器接收并保存，会话结束

#### 更新用户个人信息

#### 建立消息通讯

1. 一方发起消息通讯请求
2. 另一方接收消息通讯请求
3. 开启消息的推送与接收功能

## 版本管理

Zz依据有效版本管理原则进行版本管理 [有效版本管理](https://github.com/calidion/effective-versioning).

## 支持所有人平权（反对黑命贵）

Zz只支持人类在政治权力上平等，反对无视事实，定义特权种族，但是尊重事实上的人类多元化。

## 协议

1. 本软件基于GPL-3.0进行授权
2. 所有基于Zz的修改都必须开源
3. 在Zz之上的任何应用源码一样必须开源 
4. 保留所有应用开发者的版权与运营权，其它人不得未经开发者同意，不得利用开发者的代码进行二次开发或者运行
